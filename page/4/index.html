

<!DOCTYPE html>
<html>
    <head>
	<meta name="generator" content="Hugo 0.111.3">



<title>OpenAsar</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<link rel="stylesheet" href="/style.css" />

<meta itemprop="name" content="OpenAsar">
<meta itemprop="description" content="Starts faster, performs better, even smaller">
<meta property="og:title" content="OpenAsar" />
<meta property="og:description" content="Starts faster, performs better, even smaller" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="OpenAsar"/>
<meta name="twitter:description" content="Starts faster, performs better, even smaller"/>
</head>
    <body class="landing is-preload">
        <div id="page-wrapper">
            <nav id="banner">
            
            
                <h2>OpenAsar</h2>
                <p>Starts faster, performs better, even smaller</p>
                <ul class="actions special">
                    <li id="install-parent"><a id="install-button" href="#" class="button primary" alt="Install" style="position: relative; padding-right: 3.5em;"><i class="icon solid fa-cloud-download-alt" style="margin-right: 5px;"></i> Install <i class="icon solid fa-chevron-down" style="position: absolute; right: 12px;"></i></a>
                        <div class="">
                            <a class="button" href="#install">for Discord Stable</a>
                            <a class="button" href="#install">for Discord PTB</a>
                            <a class="button" href="#install">for Discord Canary</a>
                        </div>
                    </li>
                    
                
                    <li><a href="https://github.com/GooseMod/OpenAsar" class="button " alt="GitHub"><i class="icon solid fa-code-branch" style="margin-right: 5px;"></i> GitHub</a></li>
                
                    <li><a href="https://discord.com/invite/YDMptE8u2b" class="button " alt="Discord"><i class="icon solid fa-comments" style="margin-right: 5px;"></i> Discord</a></li>
                
                </ul>
            
            

            
            </nav>

            
            <section id="main" class="container">
                
                
                
                    <section class="box special">
                        <header class="major">
                            
                            <h2>What is OpenAsar?</h2>
                            <p>OpenAsar is a rewrite of part of Discord's desktop code, making it snappier and include more features like further customization and theming.</p>
                        </header>
                        
                    </section>
                
                

                
                
                
                    <div class="card-grid">
                        
                            <section class="box special">
                                <span class="icon solid major fa-tachometer-alt "></span>
                                <h3>Fast</h3>
                                <p>Speeds up Discord&#39;s startup time by ~2x (up to ~4x with experimental options)</p>
                            </section>
                        
                            <section class="box special">
                                <span class="icon solid major fa-bolt accent3"></span>
                                <h3>Snappy</h3>
                                <p>Makes your client feel snappier for scrolling, switching channels, and more</p>
                            </section>
                        
                            <section class="box special">
                                <span class="icon solid major fa-compress-alt "></span>
                                <h3>Small</h3>
                                <p>Less than 0.5% of the size of Discord&#39;s original (~9MB &gt; ~40KB)</p>
                            </section>
                        
                            <section class="box special">
                                <span class="icon solid major fa-eye accent4"></span>
                                <h3>Theming</h3>
                                <p>Custom CSS and splash screen matching lets you theme your client how you want</p>
                            </section>
                        
                            <section class="box special">
                                <span class="icon solid major fa-cog accent6"></span>
                                <h3>Customizable</h3>
                                <p>Many config options to choose from, with small tweaks to experimental options</p>
                            </section>
                        
                            <section class="box special">
                                <span class="icon solid major fa-plug accent5"></span>
                                <h3>Compatible</h3>
                                <p>Works with other mods at the same time, all OSs, and Discord versions</p>
                            </section>
                        
                    </div>
                
                

                
                

                <section class="box" id="stats-container">
                    <div id="size-chart" class="chart">
                        <div>Filesize</div>
    
                        <div>
                            <div>Original</div>
                            <div id="chart-bar-1"></div>
                            <div id="chart-size-1">8944 KB</div>
                        </div>
    
                        <div>
                            <div>OpenAsar</div>
                            <div id="chart-bar-2"></div>
                            <div id="chart-size-2">~40 KB</div>
                        </div>
                    </div>
    
                    <section id="dep-chart" class="chart">
                        <div>Total External (NPM) Dependencies</div>
    
                        <div>
                            <div>Original</div>
                            <div id="chart-bar-3"></div>
                            <div id="chart-size-3">79</div>
                        </div>
    
                        <div>
                            <div>OpenAsar</div>
                            <div id="chart-bar-4"></div>
                            <div id="chart-size-4">0</div>
                        </div>
                    </section>
    
                    <section id="update-chart" class="chart">
                        <div>Time Spent Updating on a Low-end Linux PC</div>
    
                        <div>
                            <div>Original</div>
                            <div id="chart-bar-5"></div>
                            <div id="chart-size-5">55s</div>
                        </div>
    
                        <div>
                            <div>OpenAsar</div>
                            <div id="chart-bar-6"></div>
                            <div id="chart-size-6">13s</div>
                        </div>
                    </section>

                    <section id="update-chart" class="chart">
                        <div>Total Starting Time for a Fresh Install on a Low-end Linux PC</div>
    
                        <div>
                            <div>Original</div>
                            <div id="chart-bar-7"></div>
                            <div id="chart-size-7">1:34</div>
                        </div>
    
                        <div>
                            <div>OpenAsar</div>
                            <div id="chart-bar-8"></div>
                            <div id="chart-size-8">28s</div>
                        </div>
                    </section>
                </section>

                <style>
                    .chart > div {
                        display: flex;
                    }

                    .chart > div:not(:last-child) {
                        margin-bottom: 40px;
                    }

                    .chart > div:first-child {
                        font-weight: 700;
                        font-size: 24px;
                        line-height: 24px;
                        margin-bottom: 40px;
                        padding: 0;
                        width: 100%;
                    }

                    .chart > div > div:first-child {
                        font-weight: 600;
                        font-size: 24px;
                        line-height: 20px;
                        margin-right: 20px;
                        width: 100px;
                        text-align: right;
                    }

                    .chart > div > div:last-child {
                        font-weight: 400;
                        margin-left: 20px;
                        line-height: 20px;
                        font-size: 20px;
                    }

                    [id^="chart-bar"] {
                        height: 20px;
                        
                        background-color: #1AA7EC;
                        border-radius: 4px;

                        width: 65%;
                    }

                    #chart-bar-2 {
                        width: 0.3%;
                    }

                    #chart-bar-4 {
                        width: 0%;
                    }

                    #chart-bar-6 {
                        width: calc(65% * (7 / 55));
                    }

                    #chart-bar-8 {
                        width: calc(65% * (28 / 94));
                    }
                </style>

                <script>
                    (async () => {
                        const discordAsar = 9000;
                        const [ release ] = await (await fetch('https://api.github.com/repos/GooseMod/OpenAsar/releases')).json();
                        window.release = release;
                        const asarAsset = release.assets.find((x) => x.name === 'app.asar');
                        const asarKB = asarAsset.size / 1024;

                        document.querySelector('#chart-bar-2').style.width = (asarKB / discordAsar * 65) + '%';
                        document.querySelector('#chart-size-2').textContent = asarKB.toPrecision(3) + ' KB';
                    })();
                </script>
            </section>

            
            
<footer id="footer">
    <ul class="copyright">
        
        <li>Copyright © GooseNest Team. OpenAsar is not affiliated with Discord.</li>
        
    </ul>
</footer></div><div id="installer-batch">
  <header class="major">
    <h2>Run Script</h2>
  </header>

  <p>
    A Batch script file has been downloaded, please run it to install.
  </p>

  <p>
    If Windows or your browser blocks it, click run anyway (you may also need to click "more info" to see the option). It gets blocked just because the file isn't known.
  </p>

  <p>
    If you have any problems you can join our Discord server.
  </p>

  <ul class="actions special final">
    <li><a href="#" class="button primary"><i class="icon solid fa-times" style="margin-right: 5px;"></i> Close</a></li>
  </ul>
</div>

<div id="installer-file">
  <header class="major">
    <h2>File Handling</h2>
  </header>

  <p>
    When clicking continue, a file will be downloaded. Please overwrite (save over) the file which you can find in the path below:
  </p>

  <ul class="actions special">
    <li id="path-for">path here</li>
  </ul>

  <ul class="actions special final">
    <li><a href="#" class="button primary"><i class="icon solid fa-arrow-right" style="margin-right: 5px;"></i> Continue</a></li>
  </ul>
</div>

<div id="installer-restart">
  <header class="major">
    <h2>Restart</h2>
  </header>

  <p>
    Restart Discord fully by quitting it via the system tray (Discord icon likely in the corner of your taskbar), then reopen it.
  </p>

  <ul class="actions special final">
    <li><a href="#" class="button primary"><i class="icon solid fa-times" style="margin-right: 5px;"></i> Close</a></li>
  </ul>
</div>

<input type="file" id="fileSelect" style="display: none">


<script defer>
  let channel, channelSuffix, path;
  let plat = navigator.platform.substring(0, 3).toLowerCase();

  const installerBatch = document.getElementById('installer-batch');
  const installerFile = document.getElementById('installer-file');
  const installerRestart = document.getElementById('installer-restart');
  
  const installerPath = document.getElementById('path-for');

  const fileSelectEl = document.getElementById('fileSelect');

  
  installerFile.querySelector('.final a').onclick = () => {
    downloadFileUrl('https://github.com/GooseMod/OpenAsar/releases/download/nightly/app.asar', 'app.asar');

    installerFile.style.display = 'none';
    installerRestart.style.display = 'block';
  };
  
  const getFileUpload = async () => {
    fileSelectEl.value = null; 
    fileSelectEl.click();
    
    await new Promise((res) => {
      fileSelectEl.onchange = () => {
        res();
      };
    });
    
    fileSelectEl.onchange = undefined;
    
    const file = fileSelectEl.files[0];
    
    if (file === undefined) {
      return undefined;
    }
    
    return file;
  };
  
  const downloadToFile = (content, filename, contentType) => { 
    const a = document.createElement('a');
    const file = new Blob([content], {type: contentType});
    
    a.href = URL.createObjectURL(file);
    a.download = filename;
    a.click();
    
    URL.revokeObjectURL(a.href);
  };

  const downloadFileUrl = (url, filename) => {
    const a = document.createElement('a');
    
    a.href = url;
    a.download = filename;
    a.click();
  };
  
  


  document.body.onclick = (e) => {
    if (!e.path.some((x) => x.id?.startsWith('install'))) {
      [...document.querySelectorAll(`[id^="installer"]`)].forEach((x) => x.style.display = 'none');
    }
  };

  installerBatch.querySelector('.final a').onclick = () => {
    installerBatch.style.display = 'none';
  };

  installerRestart.querySelector('.final a').onclick = () => {
    installerRestart.style.display = 'none';
  };

  const paths = {
    'stable': '%localappdata%\\Discord\\app-1.0.9011\\resources\\app.asar',
    'ptb': '%localappdata%\\DiscordPTB\\app-1.0.1026\\resources\\app.asar',
    'canary': '%localappdata%\\DiscordCanary\\app-1.0.59\\resources\\app.asar'
  };

  const downloadBatch = () => {
    batch = `@echo off
echo Closing Discord...

C:\\Windows\\System32\\TASKKILL.exe /f /im Discord${channelSuffix}.exe
C:\\Windows\\System32\\TASKKILL.exe /f /im Discord${channelSuffix}.exe
C:\\Windows\\System32\\TASKKILL.exe /f /im Discord${channelSuffix}.exe

C:\\Windows\\System32\\TIMEOUT.exe /t 5 /nobreak

echo Installing OpenAsar...
copy /y "${path}" "${path}.backup"

${window.navigator.userAgent.includes("Windows NT 6.1") ?
  `C:\\Windows\\System32\\certutil.exe -urlcache -split -f "https://github.com/GooseMod/OpenAsar/releases/download/nightly/app.asar" "${path}"` :
  `powershell -Command "Invoke-WebRequest https://github.com/GooseMod/OpenAsar/releases/download/nightly/app.asar -OutFile \\"${path.replace('%localappdata%', '$Env:LOCALAPPDATA')}\\""`
}

${channelSuffix === '' ? `powershell -Command "Invoke-WebRequest https://github.com/GooseMod/OpenAsar/releases/download/nightly/app.asar -OutFile \\"${path.replace('%localappdata%', '$Env:LOCALAPPDATA').replace('11', '10')}\\""` : ''}

echo Opening Discord...
start "" "%localappdata%\\Discord${channelSuffix}\\Update.exe" --processStart Discord${channelSuffix}.exe`;

    downloadToFile(batch, `openasar_installer_${channel}.bat`, 'application/bat');
  };

  for (const el of document.querySelectorAll('#install-button ~ div a')) {
    el.onclick = async () => {
      channel = el.textContent.toLowerCase().split(' ').pop();
      channelSuffix = channel !== 'stable' ? (channel[0].toUpperCase() + channel.substring(1)) : '';
      
      if (plat === 'win') {
        installerBatch.style.display = 'block';
        path = paths[channel];
        downloadBatch();
      } else {
        switch (plat) {
          case 'lin': {
            const parentEl = document.querySelector('#installer-file ul:not(.final)');
            parentEl.innerHTML = '';

            const linuxSuffix = channel !== 'stable' ? ('-' + channel) : '';
            for (const p of [ `/opt/discord${linuxSuffix}/resources/app.asar`, `/usr/lib/discord${linuxSuffix}/resources/app.asar`, `/usr/lib64/discord${linuxSuffix}/resources/app.asar`, `/usr/share/discord${linuxSuffix}/resources/app.asar`, `/var/lib/flatpak/app/com.discordapp.Discord${channelSuffix}/current/active/files/discord${linuxSuffix}/resources/app.asar`, `~/.local/share/flatpak/app/com.discordapp.Discord${channelSuffix}/current/active/files/discord${channelSuffix}/resources/app.asar` ]) {
              const el = document.createElement('li');
              el.textContent = p;

              parentEl.appendChild(el);
            }

            document.querySelector('#installer-file p').textContent = document.querySelector('#installer-file p').textContent.replace('Please overwrite (save over) the file which you can find in the path below:', 'Please find which one of the paths below exist as Linux has various paths. Once you find the path, please overwrite (save over) the file:');

            
            break;
          }

          case 'mac': {
            installerPath.textContent = `/Applications/Discord${channelSuffix}.app/Contents/Resources/app.asar`;
            break;
          }
        }

        installerFile.style.display = 'block';
      }
    };
  }
</script>
</body>
</html>
